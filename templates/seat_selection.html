<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Seat Selection</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }
    h2 {
      background-color: black;
      color: white;
      padding: 15px;
      text-align: center;
      margin: 0;
    }
    .container {
      display: flex;
      justify-content: space-between;
      padding: 30px;
    }
    .seats-grid {
      display: grid;
      grid-template-columns: repeat(5, auto);
      grid-gap: 15px 30px;
      margin-right: 30px;
    }
    .seat {
      width: 45px;
      height: 45px;
      background-color: blue;
      border-radius: 8px;
      cursor: pointer;
      text-align: center;
      line-height: 45px;
      color: white;
      font-weight: bold;
    }
    .seat.booked {
      background-color: red;
      cursor: not-allowed;
    }
    .seat.selected {
      background-color: green;
    }
    .seat.hold {
      background-color: yellow;
    }
    .gap {
      visibility: hidden;
    }
    .right-box {
      width: 500px;
      height: 500px;
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      box-sizing: border-box;
      text-align: center;
    }
    .selected-list {
      margin-top: 20px;
      font-size: 18px;
    }
    .btn-confirm {
      margin-top: 30px;
      padding: 10px 20px;
      background: black;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .legend {
      text-align: center;
      margin-top: 30px;
    }
    .legend span {
      display: inline-block;
      margin: 0 15px;
    }
    .legend-box {
      display: inline-block;
      width: 20px;
      height: 20px;
      border-radius: 5px;
      margin-right: 5px;
    }
    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.6);
    }
    .modal-content {
      background-color: white;
      margin: 15% auto;
      padding: 30px;
      border-radius: 10px;
      width: 400px;
      text-align: center;
    }
    .modal button {
      margin-top: 20px;
      padding: 8px 16px;
      background-color: black;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>Seat Selection</h2>
  <div class="container">
    <div class="seats-grid" id="seatsGrid">
      <!-- Seats generated by JS -->
    </div>
    <div class="right-box">
      <h3>Your Selected Seats</h3>
      <div class="selected-list" id="selectedList">None</div>
      <button class="btn-confirm" onclick="confirmSelection()">Confirm Seats</button>
    </div>
  </div>

  <div class="legend">
    <span><div class="legend-box" style="background: blue;"></div>Available</span>
    <span><div class="legend-box" style="background: red;"></div>Booked</span>
    <span><div class="legend-box" style="background: green;"></div>Selected</span>
    <span><div class="legend-box" style="background: yellow;"></div>Hold</span>
  </div>

  <!-- Modal -->
  <div class="modal" id="modalBox">
    <div class="modal-content">
      <h3>Seats Confirmed!</h3>
      <p>Your seats have been booked successfully.</p>
      <button onclick="goToForm()">OK</button>
    </div>
  </div>

  <script>
    const seatsGrid = document.getElementById('seatsGrid');
    const selectedList = document.getElementById('selectedList');
    const modal = document.getElementById('modalBox');

    const selectedSeats = [];

    const bookedSeats = [3, 7, 15, 18, 22]; // random booked seats
    const holdSeats = [5, 6]; // example hold

    for (let i = 1; i <= 40; i++) {
      const seat = document.createElement('div');
      seat.className = 'seat';
      seat.textContent = i;

      // Apply booked or hold classes
      if (bookedSeats.includes(i)) {
        seat.classList.add('booked');
      } else if (holdSeats.includes(i)) {
        seat.classList.add('hold');
      }

      seat.addEventListener('click', () => {
        if (seat.classList.contains('booked') || seat.classList.contains('hold')) return;

        seat.classList.toggle('selected');
        const seatNum = seat.textContent;

        if (seat.classList.contains('selected')) {
          selectedSeats.push(seatNum);
        } else {
          const index = selectedSeats.indexOf(seatNum);
          if (index > -1) selectedSeats.splice(index, 1);
        }

        selectedList.innerText = selectedSeats.length > 0 ? selectedSeats.join(', ') : 'None';
      });

      // Add seat to grid with gap
      if (i % 4 === 3) {
        seatsGrid.appendChild(seat);
        const gap = document.createElement('div');
        gap.className = 'gap';
        seatsGrid.appendChild(gap);
      } else {
        seatsGrid.appendChild(seat);
      }
    }

    function confirmSelection() {
      if (selectedSeats.length === 0) {
        alert('Please select at least one seat.');
        return;
      }
      modal.style.display = 'block';
    }

    function goToForm() {
      window.location.href = 'form.html';
    }
  </script>
</body>
</html>
